<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            padding: 50px;
        }

        div {
            float: left;
        }

        .box {
            width: 350px;
            height: 350px;
            border: 1px solid #000;
            background: url(001.jpg) no-repeat;
        }

        .shade {
            width: 175px;
            height: 175px;
            background: rgba(0, 0, 0, 0.5);
            position: relative;
            cursor: move;
            display: none;
        }

        .bBox {
            width: 400px;
            height: 400px;
            border: 1px solid #000;
            background: url(0001.jpg) no-repeat;
            display: none;
        }
    </style>
</head>
<body>
<div class="box">
    <div class="shade"></div>
</div>
<div class="bBox"></div>
</body>
<script src="../methods.js"></script>
<script>
    var box = $('.box')[0], shade = $('.shade')[0],bBox=$('.bBox')[0];
    box.onmouseover = function () {
        shade.style.display = 'block';
        bBox.style.display='block';
    }
    box.onmouseout = function () {
        shade.style.display = 'none';
        bBox.style.display='none';
    }
    box.onmousemove = function () {
        var targetX = eve().posPX - box.offsetLeft - shade.offsetWidth / 2;
        var targetY = eve().posPY - box.offsetTop - shade.offsetHeight / 2;
        var maxX = box.offsetWidth - shade.offsetWidth;
        var maxY = box.offsetHeight - shade.offsetHeight;
        if (targetX <= 0)targetX=0;
        if (targetX >= maxX)targetX = maxX;
        if (targetY <= 0)targetY = 0;
        if (targetY >= maxY) targetY = maxY;
        shade.style.left = targetX + 'px';
        shade.style.top = targetY + 'px';
        bBox.style.backgroundPosition=(-(800-bBox.offsetWidth)*(targetX/maxX))+'px '+ (-(800-bBox.offsetHeight)*(targetY/maxY))+'px';
    }

</script>
</html>
